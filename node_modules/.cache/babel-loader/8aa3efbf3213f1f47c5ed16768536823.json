{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport './chatonline.css';\nexport default function ChatOnline(_ref) {\n  _s();\n\n  let {\n    onlineUsers,\n    currentId,\n    setCurrentChat\n  } = _ref;\n  const [friends, setFriends] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  useEffect(() => {\n    const getFriends = async () => {\n      const res = await axios.get('/users/friends/' + currentId);\n      setFriends(res.data);\n      console.log(friends);\n    };\n\n    getFriends();\n  }, [currentId]);\n  useEffect(() => {\n    setOnlineFriends(friends.filter(f => onlineUsers.includes(f._id)));\n  }, [friends, onlineUsers]);\n\n  const handleClick = async user => {\n    try {\n      const res = await axios.get(`/conversations/find/${currentId}/${user._id}`);\n      setCurrentChat(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  }; // return (\n  // \t<div className=\"chatOnline\">\n  // \t\t{onlineFriends.map((o) => (\n  // \t\t\t<div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\n  // \t\t\t\t<div className=\"chatOnlineImgContainer\">\n  // \t\t\t\t\t<img\n  // \t\t\t\t\t\tclassName=\"chatOnlineImage\"\n  // \t\t\t\t\t\tsrc={\n  // \t\t\t\t\t\t\to?.profilePicture\n  // \t\t\t\t\t\t\t\t? o.profilePicture\n  // \t\t\t\t\t\t\t\t: 'https://picsum.photos/200'\n  // \t\t\t\t\t\t}\n  // \t\t\t\t\t\talt=\"\"\n  // \t\t\t\t\t/>\n  // \t\t\t\t\t<div className=\"chatOnlineBadge\"> </div>\n  // \t\t\t\t</div>\n  // \t\t\t\t<span className=\"chatOnlineName\">{o?.username}</span>\n  // \t\t\t</div>\n  // \t\t))}\n  // \t</div>\n  // )\n\n}\n\n_s(ChatOnline, \"LhrCBG2JdpC4LXNRz/CbesZ6zYg=\");\n\n_c = ChatOnline;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatOnline\");","map":{"version":3,"sources":["C:/Users/Nicho/OneDrive/Desktop/Personal Projects/bookNerds/socialmedia/src/components/chatOnline/ChatOnline.js"],"names":["axios","useEffect","useState","ChatOnline","onlineUsers","currentId","setCurrentChat","friends","setFriends","onlineFriends","setOnlineFriends","PF","process","env","REACT_APP_PUBLIC_FOLDER","getFriends","res","get","data","console","log","filter","f","includes","_id","handleClick","user","err"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,kBAAP;AAEA,eAAe,SAASC,UAAT,OAAgE;AAAA;;AAAA,MAA5C;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,SAAf;AAA0BC,IAAAA;AAA1B,GAA4C;AAC9E,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAMS,EAAE,GAAGC,OAAO,CAACC,GAAR,CAAYC,uBAAvB;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMc,UAAU,GAAG,YAAY;AAC9B,YAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAU,oBAAoBZ,SAA9B,CAAlB;AACAG,MAAAA,UAAU,CAACQ,GAAG,CAACE,IAAL,CAAV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYb,OAAZ;AACA,KAJD;;AAMAQ,IAAAA,UAAU;AACV,GARQ,EAQN,CAACV,SAAD,CARM,CAAT;AAUAJ,EAAAA,SAAS,CAAC,MAAM;AACfS,IAAAA,gBAAgB,CAACH,OAAO,CAACc,MAAR,CAAgBC,CAAD,IAAOlB,WAAW,CAACmB,QAAZ,CAAqBD,CAAC,CAACE,GAAvB,CAAtB,CAAD,CAAhB;AACA,GAFQ,EAEN,CAACjB,OAAD,EAAUH,WAAV,CAFM,CAAT;;AAIA,QAAMqB,WAAW,GAAG,MAAOC,IAAP,IAAgB;AACnC,QAAI;AACH,YAAMV,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAChB,uBAAsBZ,SAAU,IAAGqB,IAAI,CAACF,GAAI,EAD5B,CAAlB;AAGAlB,MAAAA,cAAc,CAACU,GAAG,CAACE,IAAL,CAAd;AACA,KALD,CAKE,OAAOS,GAAP,EAAY;AACbR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACA;AACD,GATD,CAnB8E,CA8B9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;GAnDuBxB,U;;KAAAA,U","sourcesContent":["import axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport './chatonline.css'\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n\tconst [friends, setFriends] = useState([])\r\n\tconst [onlineFriends, setOnlineFriends] = useState([])\r\n\tconst PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getFriends = async () => {\r\n\t\t\tconst res = await axios.get('/users/friends/' + currentId)\r\n\t\t\tsetFriends(res.data)\r\n\t\t\tconsole.log(friends)\r\n\t\t}\r\n\r\n\t\tgetFriends()\r\n\t}, [currentId])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)))\r\n\t}, [friends, onlineUsers])\r\n\r\n\tconst handleClick = async (user) => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`/conversations/find/${currentId}/${user._id}`\r\n\t\t\t)\r\n\t\t\tsetCurrentChat(res.data)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n\r\n\t// return (\r\n\t// \t<div className=\"chatOnline\">\r\n\t// \t\t{onlineFriends.map((o) => (\r\n\t// \t\t\t<div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n\t// \t\t\t\t<div className=\"chatOnlineImgContainer\">\r\n\t// \t\t\t\t\t<img\r\n\t// \t\t\t\t\t\tclassName=\"chatOnlineImage\"\r\n\t// \t\t\t\t\t\tsrc={\r\n\t// \t\t\t\t\t\t\to?.profilePicture\r\n\t// \t\t\t\t\t\t\t\t? o.profilePicture\r\n\t// \t\t\t\t\t\t\t\t: 'https://picsum.photos/200'\r\n\t// \t\t\t\t\t\t}\r\n\t// \t\t\t\t\t\talt=\"\"\r\n\t// \t\t\t\t\t/>\r\n\t// \t\t\t\t\t<div className=\"chatOnlineBadge\"> </div>\r\n\t// \t\t\t\t</div>\r\n\t// \t\t\t\t<span className=\"chatOnlineName\">{o?.username}</span>\r\n\t// \t\t\t</div>\r\n\t// \t\t))}\r\n\t// \t</div>\r\n\t// )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}